{% block nav %}
    {% if app.request.attributes.get('_route_params') is not empty and app.request.attributes.get('_route_params')['rubrique'] is defined %}
        {% set current_route =  app.request.attributes.get('_route')~"/"~app.request.attributes.get('_route_params')['rubrique'] %}
    {% else %}
        {% set current_route =  app.request.attributes.get('_route') %}
    {% endif %}
    {# {{ dump(current_route) }} #}
    <nav class="navbar navbar-expand-sm  nav-fill  flex-column flex-sm-row mb-3" >
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
                aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse nav-tabs" id="navbarNav">
            <ul class="nav  navbar-expand-sm  nav-fill  flex-column flex-lg-row mt-3  flex-grow-1 flex-wrap" >
                <li class="nav-item">
                    <a class="flex-sm-fill text-sm-center nav-link border-secondary bg-light
                             {% if current_route == 'app_home' %}
                             disabled " style="color: grey !important;"
                             {% endif %}" href="{{ path('app_home') }}">Accueil</a>
                </li>
                <li class="nav-item">
                    <a class="flex-sm-fill text-sm-center nav-link border-secondary bg-light
                         {% if current_route == 'app_carte' %}
                         disabled " style="color: grey !important;"
                         {% endif %}" href="{{ path('app_carte') }}">Carte</a>
                </li>
                <li class="nav-item">
                    <a class="flex-sm-fill text-sm-center nav-link border-secondary bg-light
                         {% if current_route == 'app_carnet' %}
                         disabled " style="color: grey !important;"
                         {% endif %}" href="{{ path('app_carnet') }}">Agenda</a>
                </li>
             <li class="nav-item">
                    <a class="flex-sm-fill text-sm-center nav-link border-secondary bg-light
                         {% if current_route == 'app_blog' %}
                         disabled " style="color: grey !important;"
                         {% endif %}" href="{{ path('app_blog') }}">Souvenir</a>
                </li>
                <li class="nav-item">
                    <a class="flex-sm-fill text-sm-center nav-link border-light bg-secondary
                         {% if current_route == 'app_musique' %}
                          disabled " style="color: white !important;"
                         {% endif %}" href="{{ path('app_musique') }}">Musique</a>
                </li>
                <li class="nav-item">
                    <a class="flex-sm-fill text-sm-center nav-link border-light bg-secondary
                         {% if current_route == 'app_animation' %}
                          disabled " style="color: white !important;"
                         {% endif %}" href="{{ path('app_animation') }}">Animation</a>
                </li>
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle border-light bg-secondary
                        " data-bs-toggle="dropdown" href="#" role="button" id="dropdownMenuLink"
                       aria-expanded="false">Bien-être</a>
                    <ul class="dropdown-menu" aria-labelledby="dropdownMenuLink">
                        <li>
                            <a class="dropdown-item
                           {% if app.request.attributes.get('_route') == 'app_bienetre' %}disabled{% endif %}"
                               href="{{ path('app_bienetre') }}">Présentation de l'activité</a></li>
                        <li><a class="dropdown-item
                     {% if app.request.attributes.get('_route') == 'app_relaxation' %}disabled{% endif %}"
                               href="{{ path('app_relaxation') }}">Relaxation vibratoire</a>
                        </li>
                        <li><a class="dropdown-item
                     {% if app.request.attributes.get('_route') == 'app_massage' %}disabled{% endif %} disabled"
                               href="{{ path('app_massage') }}">Massage californien (prochainement)</a></li>
                        {# TODO réactiver le lien app_massage et changer le titre du menu #}
                    </ul>
                </li>
                <li class="nav-item">
                    <a class="flex-sm-fill text-sm-center nav-link border-light bg-secondary
                         {% if current_route == 'app_projets' %}
                         disabled " style="color: white !important;"
                         {% endif %}" href="{{ path('app_projets') }}">Projets</a>
                </li>
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle border-secondary bg-light
                        {% if current_route != 'app_livre' %}
                         bg-secondary
                         {% endif %}" data-bs-toggle="dropdown" href="#" role="button" id="dropdownMenuLink"
                       aria-expanded="false">Livre d'or</a>
                    <ul class="dropdown-menu" aria-labelledby="dropdownMenuLink">
                        <li>
                            <a class="dropdown-item
                           {% if current_route == 'app_livre/index/relax' %}disabled{% endif %}"
                               href="{{ path('app_livre_index', {rubrique:'Relaxation'}) }}">Relaxation</a></li>
                        <li><a class="dropdown-item
                           {% if current_route == 'app_livre/index/musique' %}disabled{% endif %}"
                               href="{{ path('app_livre_index', {rubrique:'Musique et concerts'}) }}">Musique et
                                concerts</a></li>
                        </li>
                        <li><a class="dropdown-item
                           {% if current_route == 'app_livre/index/animation' %}disabled{% endif %}"
                               href="{{ path('app_livre_index', {rubrique:'Animations'}) }}">Animations</a></li>
                        <div class="dropdown-divider"></div>
                        <li><a class="dropdown-item" href="{{ path('app_livre_add', {rubrique:'animation'}) }}">Ajouter
                                un commentaire</a></li>

                    </ul>
                </li>
                <li class="nav-item">
                    <a class="flex-sm-fill text-sm-center nav-link border-secondary bg-light
                         {% if current_route == 'app_presse' %}
                         disabled " style="color: grey !important;"
                         {% endif %}" href="{{ path('app_presse') }}">Presse</a>
                </li>
                <li class="nav-item">
                    <a class="flex-sm-fill text-sm-center nav-link border-secondary bg-light
                         {% if current_route == 'app_partenaires' %}
                         disabled " style="color: grey !important;"
                         {% endif %}" href="{{ path('app_partenaires') }}">Partenaires</a>
                </li>

            </ul>
        </div>
    </nav>
{% endblock %}
